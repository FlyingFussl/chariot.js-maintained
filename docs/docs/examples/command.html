<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Commands | Chariot.js</title>
    <meta name="description" content="An extremely lightweight, unopinionated and extensible Eris client framework">
    <link rel="icon" href="/favicon.ico">
    
    <link rel="preload" href="/assets/css/0.styles.11e52084.css" as="style"><link rel="preload" href="/assets/js/app.35d26d24.js" as="script"><link rel="preload" href="/assets/js/28.5b4d9f52.js" as="script"><link rel="preload" href="/assets/js/11.2a073d08.js" as="script"><link rel="prefetch" href="/assets/js/1.f8bf3527.js"><link rel="prefetch" href="/assets/js/10.74f2910c.js"><link rel="prefetch" href="/assets/js/12.478e3bb0.js"><link rel="prefetch" href="/assets/js/13.258a8779.js"><link rel="prefetch" href="/assets/js/14.d66ab527.js"><link rel="prefetch" href="/assets/js/15.b5cc91e3.js"><link rel="prefetch" href="/assets/js/16.227f9556.js"><link rel="prefetch" href="/assets/js/17.24b0f4d3.js"><link rel="prefetch" href="/assets/js/18.8b6e4930.js"><link rel="prefetch" href="/assets/js/19.7c1e4820.js"><link rel="prefetch" href="/assets/js/20.51a2d7db.js"><link rel="prefetch" href="/assets/js/21.7707048a.js"><link rel="prefetch" href="/assets/js/22.5c7aa786.js"><link rel="prefetch" href="/assets/js/23.50f2bb83.js"><link rel="prefetch" href="/assets/js/24.6df50df6.js"><link rel="prefetch" href="/assets/js/25.ad57a9a5.js"><link rel="prefetch" href="/assets/js/26.fd3fe405.js"><link rel="prefetch" href="/assets/js/27.bdbad3e2.js"><link rel="prefetch" href="/assets/js/29.3ae5be4c.js"><link rel="prefetch" href="/assets/js/3.21518572.js"><link rel="prefetch" href="/assets/js/30.83ed0a8b.js"><link rel="prefetch" href="/assets/js/31.4b644a9d.js"><link rel="prefetch" href="/assets/js/32.61d28e26.js"><link rel="prefetch" href="/assets/js/33.b71d6dee.js"><link rel="prefetch" href="/assets/js/34.fa823f10.js"><link rel="prefetch" href="/assets/js/35.8945de05.js"><link rel="prefetch" href="/assets/js/36.ea89cb68.js"><link rel="prefetch" href="/assets/js/4.0bf13fdb.js"><link rel="prefetch" href="/assets/js/5.0bdb6aea.js"><link rel="prefetch" href="/assets/js/6.612315bc.js"><link rel="prefetch" href="/assets/js/7.e42dc881.js"><link rel="prefetch" href="/assets/js/8.b367a7f4.js"><link rel="prefetch" href="/assets/js/9.4bc05ae5.js">
    <link rel="stylesheet" href="/assets/css/0.styles.11e52084.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Chariot.js</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/docs/" class="nav-link router-link-active">Documentation</a></div><div class="nav-item"><a href="/changelog/" class="nav-link">Changelog</a></div><div class="nav-item"><a href="https://github.com/riyacchi/chariot.js" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://npmjs.com/package/chariot.js" target="_blank" rel="noopener noreferrer" class="nav-link external">
  NPM
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://discord.gg/kKPZdA6" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Support
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/docs/" class="nav-link router-link-active">Documentation</a></div><div class="nav-item"><a href="/changelog/" class="nav-link">Changelog</a></div><div class="nav-item"><a href="https://github.com/riyacchi/chariot.js" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://npmjs.com/package/chariot.js" target="_blank" rel="noopener noreferrer" class="nav-link external">
  NPM
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://discord.gg/kKPZdA6" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Support
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading"><span>Start</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/docs/" aria-current="page" class="sidebar-link">About</a></li><li><a href="/docs/prerequisites.html" class="sidebar-link">Prerequisites</a></li><li><a href="/docs/installation.html" class="sidebar-link">Installation</a></li><li><a href="/docs/gettingstarted.html" class="sidebar-link">Getting Started</a></li><li><a href="/docs/faq.html" class="sidebar-link">FAQ</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Classes</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/docs/classes/client.html" class="sidebar-link">Client</a></li><li><a href="/docs/classes/collection.html" class="sidebar-link">Collection</a></li><li><a href="/docs/classes/command.html" class="sidebar-link">Command</a></li><li><a href="/docs/classes/config.html" class="sidebar-link">Config</a></li><li><a href="/docs/classes/event.html" class="sidebar-link">Event</a></li><li><a href="/docs/classes/logger.html" class="sidebar-link">Logger</a></li><li><a href="/docs/classes/richembed.html" class="sidebar-link">RichEmbed</a></li><li><a href="/docs/classes/vial.html" class="sidebar-link">Vial</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Typedefs</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/docs/constants/colors.html" class="sidebar-link">Colors</a></li><li><a href="/docs/constants/helpprops.html" class="sidebar-link">Help Properties</a></li><li><a href="/docs/constants/locales.html" class="sidebar-link">Locales</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading open"><span>Examples</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/docs/examples/command.html" aria-current="page" class="active sidebar-link">Commands</a></li><li><a href="/docs/examples/embeds.html" class="sidebar-link">Embeds</a></li><li><a href="/docs/examples/event.html" class="sidebar-link">Events</a></li><li><a href="/docs/examples/project.html" class="sidebar-link">Project</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="commands"><a href="#commands" class="header-anchor">#</a> Commands</h1> <p>A full reference and API documentation can be found on the <a href="/docs/classes/command.html">Chariot.Command</a> documentation page.</p> <h2 id="template"><a href="#template" class="header-anchor">#</a> Template</h2> <p>This is an empty command template with every instantiation property available. This template can be used and filled in as required for creating new commands. If a certain property e.g. <code>this.userPermissions</code> isn't required it should be left out instead of leaving it empty <em>(which might cause unexpected behavior)</em>. <strong>An explanation can be found under the template.</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> Chariot <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'chariot.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">CommandName</span> <span class="token keyword">extends</span> <span class="token class-name">Chariot<span class="token punctuation">.</span>Command</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>aliases <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">''</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>subcommands <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">''</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>permissions <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">''</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>userPermissions <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">''</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>nsfw <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>owner <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>allowDMs <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>cooldown <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>help <span class="token operator">=</span> <span class="token punctuation">{</span>
            message<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
            usage<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
            example<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">''</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            inline<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            visible<span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * Precondition testing method. This method will run BEFORE the main command logic.
     * Once every test passed, next() MUST be called, in order to run the main command logic!
     * @param {object} message An Eris.Message object emitted from Eris
     * @param {string[]} args An array containing all provided arguments
     * @param {object} chariot The main bot client.
     * @param {Function} next Marking testing as done, invoking the main command executor
     */</span>
    <span class="token keyword">async</span> <span class="token function">runPreconditions</span><span class="token punctuation">(</span><span class="token parameter">message<span class="token punctuation">,</span> args<span class="token punctuation">,</span> chariot<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * Main method running after passing preconditions
     * @param {object} message An Eris.Message object emitted from Eris
     * @param {string[]} args An array containing all provided arguments
     * @param {object} chariot The main bot client. 
     */</span>
    <span class="token keyword">async</span> <span class="token function">execute</span><span class="token punctuation">(</span><span class="token parameter">message<span class="token punctuation">,</span> args<span class="token punctuation">,</span> chariot</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">/* Main command logic goes here */</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CommandName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">PRO TIP</p> <p>Don't forget to export a <strong>newly instantiated</strong> object of the command class as shown above instead of <em>just</em> the class!</p></div> <h2 id="explanation"><a href="#explanation" class="header-anchor">#</a> Explanation</h2> <p>A valid Chariot.js command file that's inherited the abstract <a href="/docs/classes/command.html">Chariot.Command</a> class can be split into four distinct sections:</p> <div id="command-example-list"><ul><li><span><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="check" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-check fa-w-16"><path fill="currentColor" d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"></path></svg></span>  Instantiation Properties
</li> <li><span><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="check" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-check fa-w-16"><path fill="currentColor" d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"></path></svg></span>  Pre-condition testing
</li> <li><span><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="check" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-check fa-w-16"><path fill="currentColor" d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"></path></svg></span>  Sub-command executors
</li> <li><span><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="check" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-check fa-w-16"><path fill="currentColor" d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"></path></svg></span>  Main command executor
</li></ul></div> <h3 id="instantiation-properties"><a href="#instantiation-properties" class="header-anchor">#</a> Instantiation Properties</h3> <p>Instantiation properties are used to model a Chariot.js command and make it fit to one's needs. Generally speaking, every property can be omitted <strong>but</strong> the <code>name</code> property, since Chariot.js uses it to register, load and initiate the command.</p> <p>Properties that aren't needed, e.g. to check for user permissions (<code>userPermissions</code>) or for defining sub-commands (<code>subcommands</code>), should be removed <strong>entirely</strong> instead of leaving them empty or with invalid children.</p> <p>A command's cooldown is specified in <strong>seconds</strong> and can be specified as a floating point number as well, e.g. <code>2.75</code>.</p> <p>The <code>help</code> property can also be omitted if the default help system isn't required or used. If however the help system is being used and the help property within a command is provided the entire help object should be filled in. Chariot.js will default to <code>Not Provided</code> if a property within the help object property is missing, incomplete, invalid or empty.</p> <p>If however the default help system of Chariot.js is used, several different properties of the <code>help</code> object can be filled in. The <code>visible</code> property of the help object toggles whether or not the command should be listed on the default help command list. This is useful if commands are wished to be hidden from the default help command list even if they are not owner-level commands. Visibility of commands defaults to true <em>(even if the property within the help object is omitted)</em>.</p> <p>Chariot.js also supports enabling certain commands for DM usage. This behavior can be enabled on a per-command basis with the <code>allowDMs</code> property, which defaults to <code>false</code>, meaning commands are not useable in DMs by default!</p> <p>A detailed property specification can be found on the <a href="/docs/classes/command.html">Command</a> documentation page or under Typedefs for <a href="/docs/constants/helpprops.html">Help Properties</a>.</p> <h3 id="pre-condition-testing"><a href="#pre-condition-testing" class="header-anchor">#</a> Pre-Condition Testing</h3> <p>Trying to be as unopinionated and modular as possible, Chariot.js completely leaves the choice up to the developer what should be used. This also holds true for the <code>runPreconditions</code> method of the command class.</p> <p>As stated in the full API reference for the <a href="/docs/classes/command.html">Chariot.Command</a> class, the <code>runPreconditions</code> method is fully optional and can be fully left out if not needed. <strong>But what does it do?</strong> The method is technically a fully <em><strong>asynchronous</strong></em> pre-execution hook and gets executed before the actual command logic (in this case the <code>execute</code> method). The <code>runPreconditions</code> method provides a callback function and API similar to middleware functions in HTTP frameworks like <a href="https://github.com/expressjs/express" target="_blank" rel="noopener noreferrer">Express<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> or <a href="https://github.com/lukeed/polka" target="_blank" rel="noopener noreferrer">Polka<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. Unlike other pre-execution hooks, Chariot.js handles pre-condition testing slightly differently and won't execute the main command logic before the provided <code>next</code> method was called. This allows for pinpoint precise execution chains with the developer being the orchestrator telling Chariot.js <em><strong>exactly</strong></em> when to start processing the main command logic.</p> <div class="tip custom-block"><p class="custom-block-title">PRO TIP</p> <p>Omitting the <code>runPreconditions</code> method allows for smaller and cleaner command files if testing isn't needed!</p></div> <div class="warning custom-block"><p class="custom-block-title">WARNING</p> <p>A common pitfall is forgetting to call the provided <code>next</code> method which causes the command to never leave pre-condition testing thus never entering the main execution phase and telling Chariot.js to invoke the main executors!</p></div> <h3 id="sub-command-executors"><a href="#sub-command-executors" class="header-anchor">#</a> Sub-Command Executors</h3> <p>A Chariot.js command supports fully autonomous, self-contained and argument aware sub-command executors allowing for high level code abstractions and extremely clean and readable code. If sub-commands are wished to be used, each sub-command needed must be specified by name as a separate element ínside of the <code>subcommands</code> array property within the constructor. For each added subcommand within that array an identically named sub-command executor must be present within the command's class. If for instance the command gets instantiated with the following sub-command property: <code>this.subcommands = ['foo', 'bar'];</code>, the class <strong>must</strong> contain two methods named <code>foo</code> and <code>bar</code> respectively:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">async</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">message<span class="token punctuation">,</span> args<span class="token punctuation">,</span> chariot</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>
<span class="token keyword">async</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token parameter">message<span class="token punctuation">,</span> args<span class="token punctuation">,</span> chariot</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>
</code></pre></div><div class="tip custom-block"><p class="custom-block-title">PRO TIP</p> <p>If this setup process is done incorrectly, Chariot.js will throw an appropriate error with tips on how to fix the issue.</p></div> <p>The arguments passed to sub-commands are <strong>level aware</strong>, which means the arguments array will only contain arguments <em>after</em> the invoking sub-command argument. If for example a command has been invoked like <code>!testcommand bar baz qux</code> <em>(given the configured prefix is <code>!</code>)</em> the arguments array for the <code>bar</code> sub-command will consist of <code>['baz', 'qux']</code>, cleverly omitting the argument that's been used to invoke the sub-command in the first place.</p> <p>If however an argument is passed that doesn't match with any sub-command identifier, e.g. <code>!testcommand beep boop</code>, Chariot.js will fall back to the main executor <code>execute</code> and pass every argument collected inside of the arguments array.</p> <p>A full command example utilizing sub-commands can be <a href="#sub-command">found here.</a></p> <h3 id="main-command-executor"><a href="#main-command-executor" class="header-anchor">#</a> Main Command Executor</h3> <p>The main command executor is the <em>main</em> method of each Chariot.js command and is the last fallback. If no pre-condition tests were specified or no sub-commands were used, the main commad executor <code>execute</code> will run. Down below are some examples for a few commonly used commands to demonstrate how to add new commands to Chariot.js.</p> <h2 id="examples"><a href="#examples" class="header-anchor">#</a> Examples</h2> <p>Here are a few command examples to demonstrate how to structure a Chariot.js command file</p> <h3 id="ping-command"><a href="#ping-command" class="header-anchor">#</a> Ping Command</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> Chariot <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'chariot.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * This example is an extremely basic command example of how a command could look like and work with Chariot.js
 */</span>
<span class="token keyword">class</span> <span class="token class-name">Ping</span> <span class="token keyword">extends</span> <span class="token class-name">Chariot<span class="token punctuation">.</span>Command</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'ping'</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>cooldown <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>allowDMs <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>help <span class="token operator">=</span> <span class="token punctuation">{</span>
            message<span class="token operator">:</span> <span class="token string">'A super simple ping command which is also usable in DMs'</span><span class="token punctuation">,</span>
            usage<span class="token operator">:</span> <span class="token string">'ping'</span><span class="token punctuation">,</span>
            example<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'ping'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            inline<span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     *  This is the main method getting executed by the MessageHandler upon a valid command request
     * 
     * @param {Object} message The emitted message object that triggered this command  
     * @param {String[]} args The arguments fetched from using the command
     * @param {Object} chariot The bot client itself
     */</span>
    <span class="token keyword">async</span> <span class="token function">execute</span><span class="token punctuation">(</span><span class="token parameter">message<span class="token punctuation">,</span> args<span class="token punctuation">,</span> chariot</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        message<span class="token punctuation">.</span>channel<span class="token punctuation">.</span><span class="token function">createMessage</span><span class="token punctuation">(</span><span class="token string">&quot;Pong!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Ping</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="sub-command"><a href="#sub-command" class="header-anchor">#</a> Sub-Command</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> Chariot <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'chariot.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * This example is an extremely basic command example of how to make use of sub-commands with Chariot.js
 */</span>
<span class="token keyword">class</span> <span class="token class-name">Ping</span> <span class="token keyword">extends</span> <span class="token class-name">Chariot<span class="token punctuation">.</span>Command</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'ping'</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>subcommands <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'pong'</span><span class="token punctuation">,</span> <span class="token string">'peng'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>cooldown <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>help <span class="token operator">=</span> <span class="token punctuation">{</span>
            message<span class="token operator">:</span> <span class="token string">'A super simple ping command with extra sub commands'</span><span class="token punctuation">,</span>
            usage<span class="token operator">:</span> <span class="token string">'ping &lt;[pong|peng]&gt;'</span><span class="token punctuation">,</span>
            example<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'ping'</span><span class="token punctuation">,</span> <span class="token string">'ping pong'</span><span class="token punctuation">,</span> <span class="token string">'ping peng'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            inline<span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * Sub-command handler for sub-command &quot;pong&quot;.
     * In this example this sub-command handler gets invoked whenever a user types &quot;&lt;prefix&gt;ping pong
     */</span>
    <span class="token keyword">async</span> <span class="token function">pong</span><span class="token punctuation">(</span><span class="token parameter">message<span class="token punctuation">,</span> args<span class="token punctuation">,</span> chariot</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        message<span class="token punctuation">.</span>channel<span class="token punctuation">.</span><span class="token function">createMessage</span><span class="token punctuation">(</span><span class="token string">&quot;Pong!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * Sub-command handler for sub-command &quot;pong&quot;.
     * In this example this sub-command handler gets invoked whenever a user types &quot;&lt;prefix&gt;ping peng
     */</span>
    <span class="token keyword">async</span> <span class="token function">peng</span><span class="token punctuation">(</span><span class="token parameter">message<span class="token punctuation">,</span> args<span class="token punctuation">,</span> chariot</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        message<span class="token punctuation">.</span>channel<span class="token punctuation">.</span><span class="token function">createMessage</span><span class="token punctuation">(</span><span class="token string">&quot;Peng!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     *  This is the main method getting executed by the MessageHandler upon a valid command request.
     *  This method is also a fallback for when sub-commands were specified but user arguments didn't match.
     * 
     * @param {Object} message The emitted message object that triggered this command  
     * @param {String[]} args The arguments fetched from using the command
     * @param {Object} chariot The bot client itself
     */</span>
    <span class="token keyword">async</span> <span class="token function">execute</span><span class="token punctuation">(</span><span class="token parameter">message<span class="token punctuation">,</span> args<span class="token punctuation">,</span> chariot</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        message<span class="token punctuation">.</span>channel<span class="token punctuation">.</span><span class="token function">createMessage</span><span class="token punctuation">(</span><span class="token string">&quot;Ping!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Ping</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="eval-command"><a href="#eval-command" class="header-anchor">#</a> Eval Command</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> Chariot <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'chariot.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * This example shows how to make a command only accessible to the defined bot owner
 * by setting this.owner = true in the class constructor and using precondition testing.
 */</span>
<span class="token keyword">class</span> <span class="token class-name">Eval</span> <span class="token keyword">extends</span> <span class="token class-name">Chariot<span class="token punctuation">.</span>Command</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'eval'</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>owner <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>cooldown <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>userPermissions <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'administrator'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>help <span class="token operator">=</span> <span class="token punctuation">{</span>
            message<span class="token operator">:</span> <span class="token string">'A simple demonstration of how a secure Eval command could be implemented including precondition testing!'</span><span class="token punctuation">,</span>
            usage<span class="token operator">:</span> <span class="token string">'eval &lt;code&gt;'</span><span class="token punctuation">,</span>
            example<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'eval 2+2'</span><span class="token punctuation">,</span> <span class="token string">'eval process.exit(0);'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            inline<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            visible<span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * Precondition testing method. This method will run BEFORE the main command logic.
     * Once ever test passed, next() MUST be called, in order to run the main command logic!
     * @param {object} message An Eris.Message object emitted from Eris
     * @param {string[]} args An array containing all provided arguments
     * @param {object} chariot The main bot client.
     * @param {Function} next Marking testing as done, invoking the main command executor
     */</span>
    <span class="token keyword">async</span> <span class="token function">runPreconditions</span><span class="token punctuation">(</span><span class="token parameter">message<span class="token punctuation">,</span> args<span class="token punctuation">,</span> chariot<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>args<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">1000</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> message<span class="token punctuation">.</span>channel<span class="token punctuation">.</span><span class="token function">createMessage</span><span class="token punctuation">(</span><span class="token string">'Too many arguments!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * Sanitize a text
     * @param {string} text The evaled texted to be sanitized before embedding into a code block 
     */</span>
    <span class="token function">sanitize</span><span class="token punctuation">(</span><span class="token parameter">text</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> text<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/`/g</span><span class="token punctuation">,</span> <span class="token string">&quot;`&quot;</span> <span class="token operator">+</span> String<span class="token punctuation">.</span><span class="token function">fromCharCode</span><span class="token punctuation">(</span><span class="token number">8203</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/@/g</span><span class="token punctuation">,</span> <span class="token string">&quot;@&quot;</span> <span class="token operator">+</span> String<span class="token punctuation">.</span><span class="token function">fromCharCode</span><span class="token punctuation">(</span><span class="token number">8203</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> text<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     *  This is the main method getting executed by the MessageHandler upon a valid command request
     * 
     * @param {Object} message The emitted message object that triggered this command  
     * @param {String[]} args The arguments fetched from using the command
     * @param {Object} chariot The bot client itself
     */</span>
    <span class="token keyword">async</span> <span class="token function">execute</span><span class="token punctuation">(</span><span class="token parameter">message<span class="token punctuation">,</span> args<span class="token punctuation">,</span> chariot</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> evaled <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">eval</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> evaled <span class="token operator">!==</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                evaled <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'util'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">inspect</span><span class="token punctuation">(</span>evaled<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            message<span class="token punctuation">.</span>channel<span class="token punctuation">.</span><span class="token function">createCode</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">sanitize</span><span class="token punctuation">(</span>evaled<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>evalError<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            message<span class="token punctuation">.</span>channel<span class="token punctuation">.</span><span class="token function">createCode</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">sanitize</span><span class="token punctuation">(</span>evalError<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Eval</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="await-message-command"><a href="#await-message-command" class="header-anchor">#</a> Await Message Command</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> Chariot <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'chariot.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * This example file shows how to add multiple command aliases and how to utilize the extremely easy 
 * and pretty straight forward message collector.
 */</span>
<span class="token keyword">class</span> <span class="token class-name">MessageCollector</span> <span class="token keyword">extends</span> <span class="token class-name">Chariot<span class="token punctuation">.</span>Command</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'messagecollector'</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>cooldown <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>aliases <span class="token operator">=</span> <span class="token punctuation">[</span>
            <span class="token string">'msgscollect'</span><span class="token punctuation">,</span>
            <span class="token string">'msgsclt'</span>
        <span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>help <span class="token operator">=</span> <span class="token punctuation">{</span>
            message<span class="token operator">:</span> <span class="token string">'A simple message collector demo showing how easy it is to collect messages with Chariot.js!'</span><span class="token punctuation">,</span>
            usage<span class="token operator">:</span> <span class="token string">'messagecollector'</span><span class="token punctuation">,</span>
            example<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'messagecollector'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            inline<span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     *  This is the main method getting executed by the MessageHandler upon a valid command request
     * 
     * @param {Object} message The emitted message object that triggered this command  
     * @param {String[]} args The arguments fetched from using the command
     * @param {Object} chariot The bot client itself
     */</span>
    <span class="token keyword">async</span> <span class="token function">execute</span><span class="token punctuation">(</span><span class="token parameter">message<span class="token punctuation">,</span> args<span class="token punctuation">,</span> chariot</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> question <span class="token operator">=</span> <span class="token keyword">await</span> message<span class="token punctuation">.</span>channel<span class="token punctuation">.</span><span class="token function">createMessage</span><span class="token punctuation">(</span><span class="token string">&quot;What's on your mind? Tell me!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> answers <span class="token operator">=</span> <span class="token keyword">await</span> message<span class="token punctuation">.</span>channel<span class="token punctuation">.</span><span class="token function">awaitMessages</span><span class="token punctuation">(</span><span class="token parameter">msg</span> <span class="token operator">=&gt;</span> msg<span class="token punctuation">.</span>author<span class="token punctuation">.</span>id <span class="token operator">===</span> message<span class="token punctuation">.</span>author<span class="token punctuation">.</span>id<span class="token punctuation">,</span> <span class="token punctuation">{</span> time<span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span> maxMatches<span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>answers<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> results <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

            answers<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">answer</span> <span class="token operator">=&gt;</span>  results<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>answer<span class="token punctuation">.</span>content<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            message<span class="token punctuation">.</span>channel<span class="token punctuation">.</span><span class="token function">createMessage</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">You answered </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>answers<span class="token punctuation">.</span>length<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> time(s) and said:\n</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>results<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            message<span class="token punctuation">.</span>channel<span class="token punctuation">.</span><span class="token function">createMessage</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">You didn't answer at all!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MessageCollector</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/docs/constants/locales.html" class="prev">
          Locales
        </a></span> <span class="next"><a href="/docs/examples/embeds.html">
          Embeds
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.35d26d24.js" defer></script><script src="/assets/js/28.5b4d9f52.js" defer></script><script src="/assets/js/11.2a073d08.js" defer></script>
  </body>
</html>
